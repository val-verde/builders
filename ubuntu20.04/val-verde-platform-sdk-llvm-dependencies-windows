#!/bin/bash

set -e

# windows zlib build
bash ${PACKAGE_BASE_NAME}-platform-sdk-zlib-cross

# windows icu build
LDFLAGS="\
    -fuse-ld=${BUILD_PACKAGE_PREFIX}/bin/${PACKAGE_BASE_NAME}-platform-sdk-mslink \
    ${LDFLAGS} \
" \
LIBS="\
    -lucrt \
    ${LIBS} \
" \
bash ${PACKAGE_BASE_NAME}-platform-sdk-icu4c-cross

# windows xz build
bash ${PACKAGE_BASE_NAME}-platform-sdk-xz-cross

# windows libxml2 build
LDFLAGS="\
    -Wc,-fuse-ld=${BUILD_PACKAGE_PREFIX}/bin/${PACKAGE_BASE_NAME}-platform-sdk-mslink \
    ${LDFLAGS} \
" \
Z_LIBS="-lzlib" \
bash ${PACKAGE_BASE_NAME}-platform-sdk-libxml2-cross

# android ncurses build
bash ${PACKAGE_BASE_NAME}-platform-sdk-ncurses-cross

# windows editline build
bash ${PACKAGE_BASE_NAME}-platform-sdk-wineditline-cross

# windows sqlite3 build
bash ${PACKAGE_BASE_NAME}-platform-sdk-sqlite-cross

# windows openssl build
bash ${PACKAGE_BASE_NAME}-platform-sdk-openssl-windows

# windows libssh2 build
bash ${PACKAGE_BASE_NAME}-platform-sdk-libssh2-cross

# windows curl build
DISABLE_POLLY=TRUE \
bash ${PACKAGE_BASE_NAME}-platform-sdk-curl-cross

# windows libexpat build
bash ${PACKAGE_BASE_NAME}-platform-sdk-expat-cross

# windows libffi build
bash ${PACKAGE_BASE_NAME}-platform-sdk-libffi-cross

# windows z3 build
DISABLE_POLLY=TRUE \
bash ${PACKAGE_BASE_NAME}-platform-sdk-z3-cross

# windows jwasm build
DISABLE_POLLY=TRUE \
bash ${PACKAGE_BASE_NAME}-platform-sdk-jwasm

# windows ninja build
DISABLE_POLLY=TRUE \
bash ${PACKAGE_BASE_NAME}-platform-sdk-ninja-cross

# windows cmake build
DISABLE_POLLY=TRUE \
LIBS="\
    -lole32 \
    -loleaut32\
    ${LIBS} \
" \
bash ${PACKAGE_BASE_NAME}-platform-sdk-cmake-cross
