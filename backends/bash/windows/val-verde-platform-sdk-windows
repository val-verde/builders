#!/bin/bash

set -e

# Source package build helper functions
export FORTIFY_SOURCE_LEVEL=0
export PACKAGE_USR_PREFIX=/
source /usr/libexec/${VAL_VERDE_GH_TEAM}-platform-sdk-builder-api

# windows mingw-headers build
package-invoke-builder mingw-w64-headers

# windows mingw-crt build
package-invoke-builder mingw-w64-crt

# windows compiler-rt build (for host)
package-invoke-builder compiler-rt-cross

# windows libcxx build
package-invoke-builder libcxx-bootstrap

# windows mingw-winpthreads build
LD=${BUILD_PACKAGE_PREFIX}/bin/${VAL_VERDE_GH_TEAM}-platform-sdk-mslink \
package-invoke-builder winpthreads-cross

# windows llvm dependencies
category-invoke-builder llvm-dependencies-windows

# windows swift tools build
category-invoke-builder swift-tools-windows

# windows swift sdk build
category-invoke-builder swift-sdk-windows

# windows go build
package-invoke-builder go-cross

# windows graphics sdk build
category-invoke-builder graphics-sdk-cross
