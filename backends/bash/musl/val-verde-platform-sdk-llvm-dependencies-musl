#!/bin/bash

set -e

# zlib build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-zlib-cross

# bzip2 build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-bzip2-cross

# zip build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-zip-cross

# unzip build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-unzip-cross

# autoconf build
CONFIGURE_HOST_TRIPLE="${HOST_PROCESSOR}-${HOST_KERNEL}-gnu" \
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-autoconf-cross

# automake build
CONFIGURE_HOST_TRIPLE="${HOST_PROCESSOR}-${HOST_KERNEL}-gnu" \
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-automake-cross

# libtool build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libtool-cross

# m4 build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-m4-cross

# make build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-make-cross

# libiconv build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libiconv-cross

# pkg-config build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-pkg-config-cross

# musl fts build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-musl-fts

# gnulib build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-gnulib-cross

# pcre build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-pcre-cross

# icu build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-icu4c-cross

# xz build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-xz-cross

# libxml2 build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libxml2-cross

# libffi build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libffi-cross

# gdbm build
CFLAGS="\
    -fcommon \
    ${CFLAGS} \
" \
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-gdbm-cross

# ncurses build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-ncurses-cross

# libedit build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libedit-cross

# sqlite3 build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-sqlite-cross

# openssl build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-openssl-cross

# libcap build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libcap-cross

# libexpat build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-expat-cross

# xorg-macros build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-xorg-macros-cross

# xorgproto build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-xorg-xorgproto-cross

# xcb-proto build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-xcb-proto-cross

# xcb-pthread-stubs build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-xcb-pthread-stubs-cross

# libuv build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libuv-cross

# libssh2 build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libssh2-cross

# curl build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-curl-cross

# gettext build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-gettext-cross

# attr build
CFLAGS="\
    -include ${PACKAGE_PREFIX}/include/sys/cdefs.h \
    ${CFLAGS} \
" \
CONFIGURE_HOST_TRIPLE="${HOST_PROCESSOR}-${HOST_KERNEL}-linux" \
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-attr-cross

# acl build
CFLAGS="\
    -include ${PACKAGE_PREFIX}/include/sys/cdefs.h \
    ${CFLAGS} \
" \
CONFIGURE_HOST_TRIPLE="${HOST_PROCESSOR}-${HOST_KERNEL}-linux" \
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-acl-cross

# bash build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-bash-cross

# util-linux build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-util-linux-cross

# libarchive build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libarchive-cross

# libmicrohttpd build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-libmicrohttpd-cross

# elfutils build
CFLAGS="\
    -include ${PACKAGE_PREFIX}/include/gnulib/config/config.h \
    -include ${PACKAGE_PREFIX}/include/sys/cdefs.h \
    -lgnu \
    -I${PACKAGE_PREFIX}/include/gnulib \
    ${CFLAGS} \
" \
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-elfutils-cross

# strace build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-strace-cross

# grep build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-grep-cross

# sed build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-sed-cross

# bison build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-bison-cross

# gawk build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-gawk-cross

# strace build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-strace-cross

# gperf build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-gperf-cross

# tar build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-tar-cross

# coreutils build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-coreutils-cross

# findutils build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-findutils-cross

# dpkg build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-dpkg-cross

# rsync build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-rsync-cross

# systemd build
# MESON=/usr/bin/meson \
# bash ${VAL_VERDE_GH_TEAM}-platform-sdk-systemd

# wget build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-wget-cross

# python build
if [ "${BUILD_PROCESSOR}" = "${HOST_PROCESSOR}" ]; then
    PYTHON_FOR_BUILD=${BUILD_PACKAGE_PREFIX}/bin/python3 \
    bash ${VAL_VERDE_GH_TEAM}-platform-sdk-python-cross
else
    _PYTHON_HOST_PLATFORM=${HOST_OS}-${HOST_PROCESSOR} \
    bash ${VAL_VERDE_GH_TEAM}-platform-sdk-python-cross
fi

# lua build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-lua-cross

# swig build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-swig-cross

# z3 build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-z3-cross

# vim build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-vim-cross

# git build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-git-cross

# ninja build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-ninja-cross

# cmake build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-cmake-cross

# android patch elf
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-android-patch-elf-cross

# jwasm (ml64) cross compiler build
bash ${VAL_VERDE_GH_TEAM}-platform-sdk-jwasm
